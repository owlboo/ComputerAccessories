@model ComputerAccessoriesV2.ViewModels.ProductViewModel
@using ComputerAccessoriesV2.Extensions
@{
    ViewData["Title"] = "CreateNewProduct";
    Layout = "~/Views/Admin/_Layout.cshtml";
}

<br />
<div class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title">Thêm sản phẩm mới</h3>
    </div>

    <form role="form" method="post" asp-action="CreateNewProduct" enctype="multipart/form-data">
        <div class="box-body">
            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.ProductName">Tên sản phẩm</label>
                </div>
                <div class="col-lg-10">
                    <input class="form-control text-uppercase" placeholder="Nhập tên sản phẩm" asp-for="Product.ProductName">
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.Code">Mã sản phẩm</label>
                </div>
                <div class="col-lg-10">
                    <input class="form-control uppercase" placeholder="Nhập mã sản phẩm" maxlength="8" asp-for="Product.Code">
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.Brand">Thương hiệu</label>
                </div>
                <div class="col-lg-10">

                    <input class="form-control" asp-for="Product.BrandId" />
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.Category">Danh mục sản phẩm</label>
                </div>
                <div class="col-lg-10">

                    <input asp-for="Product.CategoryId" class="form-control" />
                </div>

            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.PromotionPrice">Giá</label>
                </div>
                <div class="col-lg-10">
                    <input class="form-control" type="number" placeholder="Giá sản phẩm" asp-for="Product.OriginalPrice" />
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.PromotionPrice">Giá khuyến mãi</label>
                </div>
                <div class="col-lg-10">
                    <input class="form-control" type="number" placeholder="Giá khuyến mãi" asp-for="Product.PromotionPrice" />
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.Origin">Xuất sứ</label>
                </div>
                <div class="col-lg-10">
                    <input class="form-control" placeholder="Xuất sứ" asp-for="Product.Origin" />
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.Color">Màu sắc</label>
                </div>
                <div class="col-lg-10">
                    <input class="form-control" placeholder="Màu sắc" asp-for="Product.Color" />
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.Quantity">Số lượng</label>
                </div>
                <div class="col-lg-10">
                    <input class="form-control" type="number" placeholder="Số lượng" asp-for="Product.Quantity" />
                </div>
            </div>

            <div class="form-group row">
                <div class="col-lg-2">
                    <label asp-for="Product.Thumnail">Hình nền</label>
                </div>
                <div class="col-lg-10">
                    <input asp-for="Product.Thumnail" type="file" name="thumnail" class="form-control" />
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label>Hình ảnh khác</label>
                </div>
                <div class="col-lg-10">
                    <input class="form-control" type="file" name="moreimages" multiple />
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label>Trạng thái</label>
                </div>
                <div class="col-lg-10">
                    
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label>Mô tả ngắn</label>
                </div>
                <div class="col-lg-10">
                    <textarea class="form-control" asp-for="Product.ShorDescription" rows="3"></textarea>
                </div>
            </div>
            <div class="form-group row">
                <div class="col-lg-2">
                    <label>Mô tả đầy đủ</label>
                </div>
                <div class="col-lg-10">
                    <textarea class="form-control" asp-for="Product.FullDescription" rows="3"></textarea>
                </div>
            </div>
        </div>
        


        <div class="box-footer">
            <button type="submit" class="btn btn-primary">Tạo</button>
        </div>
    </form>
</div>


@section Scripts{
    <script src="~/tinymce/js/tinymce/tinymce.min.js"></script>
    <script src="~/tinymce/js/tinymce/jquery.tinymce.min.js"></script>
    <script>
        tinymce.init({
            selector: '#Product_FullDescription',
            menubar: 'file edit insert view format table tools help',
            min_height: 100


        });
        var baseUrl = window.location.protocol + '//' + window.location.host;
        $(document).ready(() => {

            $('#Product_CategoryId').kendoDropDownList({
                optionLabel: '-Chọn danh mục-',
                dataTextField: "categoryName",
                dataValueField: "id",
                dataSource: {
                    type: 'json',
                    serverFiltering: true,
                    transport: {
                        read: {
                            url: window.location.protocol + '//' + window.location.host+"/MainService/GetCategory"
                        },
                        requestEnd: function (e) {
                                var response = e.response;
                                var type = e.type;
                          
                                if (response.length === 0) {
  
                                }
                        },
                    }
                },
                index: 0
            });

            $('#Product_BrandId').kendoDropDownList({
                optionLabel: '-Chọn danh mục-',
                dataTextField: "brandName",
                dataValueField: "id",
                dataSource: {
                    type: 'json',
                    serverFiltering: true,
                    transport: {
                        read: {
                            url: baseUrl + "/Brand/GetBrand"
                        },
                        requestEnd: function (e) {
                                var response = e.response;
                                var type = e.type;
                                if (response.length === 0) {

                                }
                        },
                    }
                },
                index: 0
            })

        });
        
    </script>
    
}

@*@model List<ComputerAccessories.Models.TblBrand>*@
@using ComputerAccessoriesV2.Models
@model List<Products>
@{
    ViewData["Title"] = "Branch";
    Layout = "~/Views/Admin/_Layout.cshtml";
}

<link rel="stylesheet" href="~/font-awesome/font-awesome/css/font-awesome.css" />

<div class="page-header">
    <div class="row">
        <div class="col-lg-10">
            <h3>Danh mục brand</h3>
        </div>
        <div class="col-lg-1">
            <a class="btn btn-default" asp-area="Admin" asp-controller="Product" asp-action="CreateNewProduct"><span><i class="fa fa-plus"></i></span> Thêm sản phẩm mới</a>
        </div>
    </div>
</div>
<br />

<div class="row">
    <div class="col-xs-12">
        <div class="box">
            <div class="box-header">
                <h3 class="box-title">Hover Data Table</h3>
            </div>
            <!-- /.box-header -->
            <div class="box-body">
                @*<table id="example2" class="table table-bordered table-hover">
                    <thead style="color:darkcyan">
                        <tr>
                            <th>Mã</th>
                            <th>Tên sản phẩm</th>
                            <th style="width:20%">Thumbnail</th>
                            <th>Danh mục</th>
                            <th>Thương hiệu</th>
                            <th>Giá gốc </th>
                            <th>Giá khuyến mãi</th>
                            <th>Số lượng</th>
                            <th>Trạng thái</th>
                            <th>Thao tác</th>
                        </tr>
                    </thead>
                    <tbody>
                        @foreach (var item in Model)
                        {
                        <tr>
                            <th>@item.Id</th>
                            <th>@item.ProductName</th>
                            <th style="width:20%">
                                <img src="@item.Thumnail" width="40%" />
                            </th>
                            <th>@item.Category.CategoryName</th>
                            <th>@item.Brand.BrandName</th>
                            <th>@item.OriginalPrice</th>
                            <th>@item.PromotionPrice</th>
                            <th>@item.Quantity</th>
               
                            @if (item.IsAvailable)
                            {
                                <th>Còn hàng</th>
                            }
                            else
                            {
                                <th>Hết hàng</th>
                            }                            
                            <th>
                                <div class="btn-group" role="group" style="height:44px; ">
                                    <a type="button" class="btn btn-success" href="@Url.Action("EditProduct","Product",new {id = item.Id }).Replace("%2F",@"/")"><i class="fa fa-edit"></i></a>
                                    <a type="button" class="btn btn-primary" href="@Url.Action("UpdateProductAttribute","Product").Replace("%2F",@"/") title="Cập nhật thuộc tính sản phẩm"><span><i class="fa fa-list-alt"></i></span></a>
                                </div>
                                
                            </th>
                        </tr>
                        }
                    </tbody>
                   
                </table>*@

                <div id="productGrid">

                </div>
            </div>
            <!-- /.box-body -->
        </div>
    </div>

</div>

@section Scripts{ 
    <script>
        $(document).ready(function () {
            debugger;
            $("#productGrid").kendoGrid({
                dataSource: {
                    type: "json",
                    transport: {
                        read: window.location.protocol + '//' + window.location.host+"/Product/GetProduct"
                    },
                    pageSize: 20
                },
                height: 550,
                groupable: true,
                sortable: true,
                pageable: {
                    refresh: true,
                    pageSizes: true,
                    buttonCount: 5
                },
                columns: [{                    
                    field: "productName",
                    title: "Tên sản phẩm",
                    width: 240
                },{                    
                    field: "thumnail",
                    title: "Ảnh",
                        width: 240,
                    template:"<img src='#=thumnail#' style='border-radius:50%; width:20%' alt='#=thumnail#'>"
                }, {
                    field: "code",
                    title: "Mã sản phẩm"
                }, {
                    field: "brandName",
                    title: "Thương hiệu"
                },{
                    field: "categoryName",
                    title: "Danh mục"
                },{
                    field: "quantity",
                    title: "Số lượng"
                },{
                    field: "color",
                    title: "Màu sắc"
                },{
                    field: "originPrice",
                    title: "Giá gốc"
                },{
                    field: "promotionPrice",
                    title: "Giá khuyến mãi"
                },{
                    field: "createdDate",
                        title: "Ngày tạo",
                    format: "{0: yyyy-MM-dd HH:mm:ss}",
                    width: 150
                },{
                        title: "Thao tác",
                    template:"<a class='btn btn-default' title='Chỉnh sửa' onlick='return EditProduct(#:data.id#)' style='border:none;background:transparent'><span><i class='fa fa-pencil'></i></span></a> <a class='btn btn-default' title='Xóa' onlick='return Disabled(#:data.id#)' style='border:none;background:transparent'><span><i class='fa fa-remove'></i></span></a>",
                    width: 150
                }]
            });
        });
    </script>
}

